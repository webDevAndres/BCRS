<!--
Title: security-question-details.component.html
Author: Professor Krasso
Date: 02/12/2023
Modified By: Andres Macias/Patrick Wolff/April Yang
Description: Update Security Question
-->

<!-- page title -->
<div fxLayout="column">
  <mat-card class="mat-elevation-z8">
    <mat-card-title style="text-align: center; font-weight: lighter"
      >Update Security Question Form</mat-card-title
    >
    <mat-card-subtitle style="text-align: center; font-weight: lighter">
      Fields marked with an asterisk(*) are required.
    </mat-card-subtitle>
    <br />
    <!-- displays error message -->
    <p-messages [(value)]="errorMessage" [enableService]="false"></p-messages>
    <!-- saves security question updates or returns error message-->
    <form
      [formGroup]="editForm"
      (ngSubmit)="save(); editForm.reset()"
      style="width: 50%; margin: 0 auto"
    >
      <mat-card-content>
        <div fxLayout="column" fxLayoutGap="10px">
          <mat-form-field appearance="fill">
            <mat-label>Security question</mat-label>
            <input type="text" matInput formControlName="text" required />

            <mat-error
              class="error"
              *ngIf="
                editForm.controls['text'].hasError('required') &&
                editForm.controls['text'].touched
              "
            >
              Security question is a required field.
            </mat-error>
          </mat-form-field>
        </div>
      </mat-card-content>
      <br />

      <mat-card-actions align="end">
        <!-- cancel and save buttons -->
        <button mat-raised-button (click)="cancel()" color="accent">
          Cancel
        </button>
        <button mat-raised-button (click)="save()" color="primary">Save</button>
      </mat-card-actions>
    </form>
  </mat-card>
</div>
