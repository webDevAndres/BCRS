<!--
Title: user-list.component.html
Author: Professor Krasso
Date: 02/12/2023
Modified By: Andres Macias/Patrick Wolff/April Yang
Description: Displays list of users with the ability to
              create, update, and delete
-->

<p-confirmDialog [style]="{width: '35vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>

<div fxLayout="column" fxLayoutGap="20px">

    <div fxFlex>
        <h1 class="title">
            User's Configuration Page!<br />
            <span class="subtitle">
                To add new record select the Add User button.
            </span>
        </h1>
    </div>

    <!-- first column -->
    <div fxFlex>
        <button mat-raised-button color="primary" routerLink="/users/create/new" style="height: 50px; font-size: 18px" class="w-100">Add User</button>
    </div>

    <!-- second column -->
    <div fxFlex>
        <p-table [value]="users" responsiveLayout="=scroll">
            <ng-template pTemplate="header">
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th style="width: 8rem;"></th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-user>
                <tr>
                    <td>{{user.firstName}}</td>
                    <td>{{user.lastName}}</td>
                    <td>{{user.phoneNumber}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.address}}</td>
                    <td style="text-align: center;">
                        <button pButton pRipple type="button" routerLink="/users/{{user._id}}" icon="pi pi-pencil" class="p-button-rounded p-button-text"  style="color: #d3a625"></button>
                        <button pButton pRipple type="button" (click)="delete(user._id)" icon="pi pi-trash" class="p-button-rounded p-button-text" style="color: #ae0001"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>

</div>
